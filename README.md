# La-baker-chat-assistant

A user-friendly chat assistant for LA Baker restaurant, integrated with n8n workflow. All responses including answers and follow-up questions come directly from your n8n workflow.

## Features

- ü§ñ **AI-Powered Chat**: Integrated with n8n webhook for restaurant queries
- üí° **Smart Question Suggestions**: Follow-up questions are generated by your n8n workflow
- üì± **Responsive Design**: Works seamlessly on desktop and mobile devices
- ‚≠ê **Feedback System**: Collects user feedback when closing the chat
- üé® **Modern UI**: Clean, intuitive interface inspired by modern chat applications

## Setup Instructions

### 1. Configuration

1. Copy the example config file:
   ```bash
   cp config.example.js config.js
   ```
2. Open `config.js` and update the n8n webhook URL if needed

**Note**: The `config.js` file is gitignored and will NOT be committed to your repository. Always use `config.example.js` as a template.

### 2. GitHub Pages Deployment

1. Push this repository to GitHub
2. Go to your repository settings
3. Navigate to "Pages" in the left sidebar
4. Select the branch (usually `main` or `master`)
5. Select the folder (usually `/root`)
6. Click "Save"

Your chat assistant will be available at: `https://yourusername.github.io/repository-name/`

### 3. Customization

You can customize the following in `config.js`:

- `n8nWebhookUrl`: Your n8n webhook endpoint
- `restaurantName`: Display name for the restaurant
- `restaurantUrl`: Website URL

### 4. n8n Response Format

Your n8n webhook should return responses in the following JSON format:

```json
{
  "answer": "Your answer text here",
  "followup_question01": "First follow-up question",
  "followup_question02": "Second follow-up question"
}
```

Alternatively, n8n may return the response wrapped in an `output` field with markdown code blocks:

```json
{
  "output": "```json\n{\n \"answer\": \"...\",\n \"followup_question01\": \"...\",\n \"followup_question02\": \"...\"\n}\n```"
}
```

The application will automatically parse both formats.

## File Structure

```
.
‚îú‚îÄ‚îÄ index.html          # Main HTML structure
‚îú‚îÄ‚îÄ styles.css          # Styling and layout
‚îú‚îÄ‚îÄ script.js           # Chat logic and API integrations
‚îú‚îÄ‚îÄ config.js           # Configuration file with API keys (gitignored)
‚îú‚îÄ‚îÄ config.example.js   # Configuration template (safe to commit)
‚îî‚îÄ‚îÄ README.md          # This file
```

## How It Works

1. **User sends a message**: The message is sent to the n8n webhook
2. **n8n processes**: Your n8n workflow processes the request and returns:
   - An `answer` with the response text
   - `followup_question01` and `followup_question02` with suggested follow-up questions
3. **Bot responds**: The answer from n8n is displayed to the user
4. **Quick options**: Follow-up questions from n8n are shown as clickable buttons (or default options if none provided)
5. **Feedback**: When user closes chat, a feedback modal appears

## API Integration

### n8n Webhook

The chat sends POST requests to your n8n webhook with the following format:

```json
{
  "chatInput": "User's message"
}
```

Your n8n workflow should return a response in this format:

```json
{
  "answer": "Response text here",
  "followup_question01": "First follow-up question",
  "followup_question02": "Second follow-up question"
}
```

## Security Notes

‚ö†Ô∏è **Important**: The `config.js` file is gitignored and will NOT be committed to your repository.

**For GitHub Pages deployment:**
- The `config.js` file will NOT be uploaded to GitHub (it's gitignored)
- GitHub Actions automatically creates `config.js` during deployment using the workflow file
- No API keys are needed since all responses come from your n8n workflow

**Best Practice**: Never commit `config.js` to version control. Always use `config.example.js` as a template.

## Browser Support

- Chrome (latest)
- Firefox (latest)
- Safari (latest)
- Edge (latest)

## License

This project is open source and available for use.

## Support

For issues or questions, please contact the development team.

